{% extends 'nav.html' %}
{% load static %}
{% block content %}
<style>
a:link {text-decoration: none; color: black;}
a:visited {text-decoration: none; color: black;}
a:active {text-decoration: none; color:black;}
a:hover {text-decoration: underline; color:black;}
</style>
<div class="search-bar" style="margin-left:5%; margin-right:5%;">
      <form action="{% url 'search' %}", method="get">
        <div class="row">
          <div class="col align-items-center form-group">
            <input class="form-control border-2 shadow-2" type="search" name="query"
              style="border-radius: 30px; border: black solid 2px;" text-align="center"
              placeholder=" 두근두근 고카톤">
          </div>
      </div>
        <div class="row">
          <div class="col">
            <button class="btn btn-dark btn-block rounded-xl h-80" type="submit">검색 </button>
          </div>
        </div>
      </form>
    </div>

    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" style="margin-left:5%; margin-right:5%;">
      <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol> 
      <div class="carousel-inner">
        <span class="carousel-item active">
          <a href="{% url 'show' 17 %}"><img class="d-block w-100" height='60%' src="{% static '고카톤메인.png' %}" alt="First slide"></a>
        </span>
        <span class="carousel-item">
          <a href="crud/15"><img class="d-block w-100" height='60%' src="{% static '알프스.png' %}" alt="Second slide"></a>
        </span>
        <span class="carousel-item">
          <a href="{% url 'show' 20 %}"><img class="d-block w-100" height='60%' src="{% static '책고양이.png' %}" alt="Third slide"></a>
        </span>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
    <br>
    <br>
  <div style="width: 100%;">
      <div id ="join sort" style="width: 44%; float: left; margin-left: 5%;">
        <h3 style="text-align:center; font-weight:bold;">참가자수가 가장 많은 대회 Top10</h3>
          <table class="table" style="text-align:center">
            <thead>
                <tr>
                    <th scope = "col">대회명</th>
                    <th  scope = "col">참가자수</th>
                </tr>
            </thead>
            <tbody>
                {% for plan in joins %}
                <tr>
                  {% if user.is_authenticated %}
                    <td><a class="title" href="{% url 'show' plan.id %}">{{plan.title}}</a></td>
                  {% else %}
                  <td>{{plan.title}}</td>
                  {% endif %}
                    <td >{{plan.join_counting}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
      </div>
      
    <div id ="join sort" style="width: 44%; float: right; margin-right: 5%">
      <h3 style="text-align:center; font-weight:bold;">응원을 가장 많이 받은 대회 Top10</h3>
        <table class="table" style="text-align:center">
          <thead>
              <tr>
                  <th scope = "col">대회명</th>
                  <th scope = "col">응원수</th>
              </tr>
          </thead>
          <tbody>
              {% for plan in likes %}
              <tr>
                  {% if user.is_authenticated %}
                    <td><a class="title" href="{% url 'show' plan.id %}">{{plan.title}}</a></td>
                  {% else %}
                    <td>{{plan.title}}</td>
                  {% endif %}
                  <td style="text-align:center">{{plan.like_counting}}</td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
  </div>
</div>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br>

{% endblock %}